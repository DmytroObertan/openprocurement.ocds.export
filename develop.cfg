[buildout]
extensions = mr.developer
extends = base.cfg versions.cfg
show-picked-versions = true
update-versions-file = versions.cfg
package-name =
    openprocurement.api
    openprocurement.tender.limited
    openprocurement.tender.openua
    openprocurement.tender.openeu
    openprocurement.tender.openuadefense
    openprocurement.tender.competitivedialogue

auto-checkout = ${:package-name}
parts +=
    openprocurement.api.ini
eggs =
    chaussette
    request_id_middleware
    server_cookie_middleware
    ${:package-name}

[remotes]
gh = https://github.com/
gh_push = git@github.com:
opgh = ${remotes:gh}openprocurement/openprocurement
opgh_push = ${remotes:gh_push}openprocurement/openprocurement

[sources]
openprocurement.api = git ${remotes:opgh}.api.git pushurl=${remotes:opgh_push}.api.git
openprocurement.tender.limited = git ${remotes:opgh}.tender.limited.git pushurl=${remotes:opgh_push}.tender.limited.git
openprocurement.tender.openua = git ${remotes:opgh}.tender.openua.git pushurl=${remotes:opgh_push}.tender.openua.git
openprocurement.tender.openeu = git ${remotes:opgh}.tender.openeu.git pushurl=${remotes:opgh_push}.tender.openeu.git
openprocurement.tender.openuadefense = git ${remotes:opgh}.tender.openuadefense.git pushurl=${remotes:opgh_push}.tender.openuadefense.git
openprocurement.tender.competitivedialogue = git ${remotes:opgh}.tender.competitivedialogue.git pushurl=${remotes:opgh_push}.tender.competitivedialogue.git

[openprocurement.api.ini]
<= config-from-template
couchdb_url = http://${couchdb.ini:host}:${couchdb.ini:port}/
couchdb_db = openprocurement
debug = false
auth_file = ${buildout:directory}/auth.ini
exc_logger = 1

[supervisord.ini]
develop = true

[scripts]
eggs += pytest
       pytest-cov
       openprocurement.ocds.export
       ${buildout:eggs}
scripts += pytest
	   chaussette
